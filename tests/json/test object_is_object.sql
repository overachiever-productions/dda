
CREATE OR ALTER PROCEDURE [json].[test object_is_object]
AS
BEGIN
  	-----------------------------------------------------------------------------------------------------------------
	-- Arrange:
	-----------------------------------------------------------------------------------------------------------------
	DECLARE @dataType tinyint;
	DECLARE @jsonObject nvarchar(MAX) = N'{
				  "my key $1": {
					"regularKey":{
					  "key with . dot": 1
					}
				  }
				}';

	-----------------------------------------------------------------------------------------------------------------
	-- Act: 
	-----------------------------------------------------------------------------------------------------------------
	SELECT @dataType = dda.[get_json_data_type](@jsonObject);

	-----------------------------------------------------------------------------------------------------------------
	-- Assert: 
	-----------------------------------------------------------------------------------------------------------------
	EXEC [tSQLt].[AssertEquals] @Expected = 5, @Actual = @dataType;

END;
