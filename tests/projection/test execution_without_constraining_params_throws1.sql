
CREATE OR ALTER PROCEDURE [projection].[test execution_without_constraining_params_throws]
AS
BEGIN
  	-----------------------------------------------------------------------------------------------------------------
	-- Arrange:
	-----------------------------------------------------------------------------------------------------------------
	EXEC [tSQLt].[ExpectException]
		@ExpectedMessagePattern = N'%Queries against Audit data MUST be constrained - either @StartTime%';	

	-----------------------------------------------------------------------------------------------------------------
	-- Act: 
	-----------------------------------------------------------------------------------------------------------------
	EXEC dda.[get_audit_data];

	-----------------------------------------------------------------------------------------------------------------
	-- Assert: 
	-----------------------------------------------------------------------------------------------------------------

END;