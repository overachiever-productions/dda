
CREATE OR ALTER PROCEDURE [projection].[test endaudit_without_startaudit_throws]
AS
BEGIN
  	-----------------------------------------------------------------------------------------------------------------
	-- Arrange:
	-----------------------------------------------------------------------------------------------------------------
	EXEC [tSQLt].[ExpectException]
		@ExpectedMessagePattern = N'%Queries against Audit data MUST be constrained%';	

	-----------------------------------------------------------------------------------------------------------------
	-- Act: 
	-----------------------------------------------------------------------------------------------------------------
	EXEC dda.[get_audit_data]
		@EndAuditID = 20;

	-----------------------------------------------------------------------------------------------------------------
	-- Assert: 
	-----------------------------------------------------------------------------------------------------------------

END;